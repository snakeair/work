import{_ as e,d as a,n as s,r as t,a as l,c as o,b as i,w as r,e as p,v as c,f as n,t as m,g as d,h as u,i as v,j as g,p as h,$ as f,q as b,s as y,u as k,k as x,o as _,x as w,y as I}from"../default/default-d3b4a7ff.js";import{_ as C}from"./img-06-c327b133.js";import{_ as j,a as V}from"./img-088-e6f31b4d.js";const q={class:"reg-pages"},D={class:"z10"},T=g('<h1 class="title" data-v-33a11311><img class="logo" src="'+C+'" alt="" data-v-33a11311></h1><div class="banner" data-v-33a11311><h3 class="money" data-v-33a11311><em class="icon" data-v-33a11311>￥</em>200,000</h3><p class="info" data-v-33a11311>年化利率7.2%-24% <em data-v-33a11311>/</em> 循环额度 <em data-v-33a11311>/</em> 次日可还</p></div>',2),M={class:"form-box"},U={class:"form-list"},$={class:"form-list form-code"},z={class:"wait-code"},P={class:"pact"},R={class:"img",src:j,alt:""},S={class:"img",src:V,alt:""},A=g('<footer class="footer" data-v-33a11311><p class="footer-p" data-v-33a11311>贷款有风险，借款需谨慎</p><p class="footer-p" data-v-33a11311>贷款资金由银行和持有贷款业务资格文件的正规小额贷款公司提供</p><p class="footer-p" data-v-33a11311>重庆小康小额贷款有限公司</p><p class="footer-p" data-v-33a11311>渝公网安备 50019002501472号 渝ICP备18000384号-1</p></footer>',1);var B=e(a({__name:"index",setup(e){const a=w(),g=I(),C=s(),j=t({msg:"",type:!1}),V=t({code:"",mobile:""}),B=t({timer:60,show:!0});let E="请输入正确的手机号码";const F=()=>{if(!h(V.mobile))return j.type=!0,j.msg=E,!1;j.type=!1;let e=`/api.php/core/tool/getcode?client=h5&package=pc&ver=v1.1&Mobile=${V.mobile}&type=3`;f(e,{}).then((e=>{B.show=!1,setInterval((()=>{1===B.timer?(B.timer=60,B.show=!0):B.timer--}),1e3)}))},G=l({Time:"",Val:"",ID:""}),H=()=>{f("/api.php/core/tool/timestamp?client=pc&package=h5&ver=v1.1",{}).then((e=>{1==e.result&&(G.value=e.data,J())}))},J=()=>{let e={ticksid:G.value.ID,client:"h5",package:"pc",ver:"v1.1",ticks:G.value.Val,mobile:V.mobile,code:V.code,loginType:1};f("/api.php/center/member/login",e).then((e=>{1==e.result?(y.set("token",e.data.Token,{expires:.04}),y.set("id",e.data.ID,{expires:.04}),y.set("info",e.data.is_info,{expires:.04}),N(),g.push({path:"/address"})):k({type:"error",msg:e.message})}))},K=l(!1),L=()=>{K.value=!K.value};(()=>{let e=a.query.source,s={puser:e||C.puser};b("/api.php/center/register/channel",s).then((e=>{}))})();const N=()=>{y.get("token")&&g.push({path:"/"})};return N(),(e,s)=>{const t=x("router-link");return _(),o("div",null,[i("div",q,[i("div",D,[T,i("div",M,[i("form",{name:"login",id:"login-form",onSubmit:s[3]||(s[3]=r((()=>{}),["prevent"]))},[i("div",U,[p(i("input",{class:"input",type:"text",maxlength:"11","onUpdate:modelValue":s[0]||(s[0]=e=>V.mobile=e),placeholder:"请输入您的联系电话"},null,512),[[c,V.mobile]])]),i("div",$,[p(i("input",{class:"input code",type:"text",maxlength:"11","onUpdate:modelValue":s[1]||(s[1]=e=>V.code=e),placeholder:"请输入短信验证码"},null,512),[[c,V.code]]),p(i("div",{btn:"",class:"get-code-btn",onClick:F},"获取验证码",512),[[n,B.show]]),p(i("div",z,[i("em",null,m(B.timer)+"s",1),d(" 后重新获取")],512),[[n,!B.show]]),p(i("p",{class:"error"},m(j.msg),513),[[n,j.type]])]),i("button",{class:"form-btn",type:"submit",onClick:s[2]||(s[2]=e=>(()=>{if(!h(V.mobile))return j.type=!0,j.msg=E,!1;if(j.type=!1,!K.value)return j.type=!0,j.msg="请同意注册协议",!1;j.type=!1;let e=a.query.source,s={Mobile:V.mobile,Code:V.code,puser:e||C.puser,client:"pc"};b("/api.php/center/Register/reg",s).then((e=>{1===e.result||3===e.result?H():(j.type=!0,j.msg=e.message)}))})())},"登录")],32),i("div",P,[i("span",{class:"checkbox",onClick:L},[p(i("img",R,null,512),[[n,!K.value]]),p(i("img",S,null,512),[[n,K.value]])]),d(" 我已阅读并同意"),u(t,{to:"/pact/reg"},{default:v((()=>[d("《趣融分期注册协议》")])),_:1})])]),A])])])}}}),[["__scopeId","data-v-33a11311"]]);export{B as default};
